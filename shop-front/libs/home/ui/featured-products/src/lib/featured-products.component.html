<ng-container *ngIf="productsResponse$ | async as response">
  <div [ngSwitch]="response.status">
    <ng-container *ngSwitchCase="'loading'">
      <span>Loading</span>
    </ng-container>
    <ng-container *ngSwitchCase="'success'">
      <div class="products">
        {{ response.data?.data | json }}
      </div>
      <p-paginator
        [rows]="perPage"
        [totalRecords]="response.data?.total || 0"
        [rowsPerPageOptions]="[2, 9, 12, 16]"
        (onPageChange)="paginate($event)"
        [first]="(response.data?.from || 1) - 1"
      ></p-paginator>
    </ng-container>
    <ng-container *ngSwitchCase="'error'">
      <div class="error">
        <div class="error-message">{{ response.error }}</div>
      </div>
    </ng-container>
  </div>
</ng-container>
